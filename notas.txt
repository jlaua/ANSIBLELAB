apt install openssh-server -y
apt update -y
systemctl enable ssh

sudo apt install software-properties-common -y 
sudo add-apt-repository --yes --update ppa:ansible/ansible
sudo apt install ansible -y

apt install python3-pip
pip3 install ansible

sudo nano /etc/default/locale

#  File generated by update-locale
LANG="en_US.UTF-8"
LANGUAGE="en_US:"
LC_CTYPE="en_US.UTF-8"
LC_NUMERIC="es_CO.UTF-8"
LC_TIME="es_CO.UTF-8"
LC_MONETARY="es_CO.UTF-8"
LC_PAPER="es_CO.UTF-8"
LC_NAME="es_CO.UTF-8"
LC_ADDRESS="es_CO.UTF-8"
LC_TELEPHONE="es_CO.UTF-8"
LC_MEASUREMENT="es_CO.UTF-8"
LC_IDENTIFICATION="es_CO.UTF-8"



LANG="en_US.UTF-8"
LC_CTYPE="en_US.UTF-8"
sudo update-locale LANG=en_US.UTF-8 LC_CTYPE=en_US.UTF-8
reboot


ansible-config init --disabled > ansible.cfg
ansible-config init  > ansible.cfg

config file = none
systemctl disable ufw

[defaults]
inventory = /etc/ansible/hosts
host_key_checking = False



controller1 ansible_host=192.168.1.160 ansible_ssh_pass=310783
controller2 ansible_host=192.168.1.161 ansible_ssh_pass=310783
target1 ansible_host=192.168.1.162 ansible_ssh_pass=310783
target2 ansible_host=192.168.1.163 ansible_ssh_pass=310783

#para el caso de dockers
target1 ansible_host=172.17.0.2 ansible_ssh_pass=Passw0rd
target2 ansible_host=172.17.0.3 ansible_ssh_pass=Passw0rd
target3 ansible_host=172.17.0.4 ansible_ssh_pass=Passw0rd

#permitir root usar ssh o mandar comandos ansible 
nano /etc/ssh/sshd_config
PermitRootLogin yes
systemctl reload ssh




